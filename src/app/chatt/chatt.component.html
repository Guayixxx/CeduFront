<body>
    <div class="app-container">
        <div class="app-left">
            <div class="app-left-header">
                <div class="app-logo">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                        <defs />
                        <path class="path-1" fill="#3eb798"
                            d="M448 193.108h-32v80c0 44.176-35.824 80-80 80H192v32c0 35.344 28.656 64 64 64h96l69.76 58.08c6.784 5.648 16.88 4.736 22.528-2.048A16.035 16.035 0 00448 494.868v-45.76c35.344 0 64-28.656 64-64v-128c0-35.344-28.656-64-64-64z"
                            opacity=".4" />
                        <path class="path-2" fill="#3eb798"
                            d="M320 1.108H64c-35.344 0-64 28.656-64 64v192c0 35.344 28.656 64 64 64v61.28c0 8.832 7.168 16 16 16a16 16 0 0010.4-3.84l85.6-73.44h144c35.344 0 64-28.656 64-64v-192c0-35.344-28.656-64-64-64zm-201.44 182.56a22.555 22.555 0 01-4.8 4 35.515 35.515 0 01-5.44 3.04 42.555 42.555 0 01-6.08 1.76 28.204 28.204 0 01-6.24.64c-17.68 0-32-14.32-32-32-.336-17.664 13.712-32.272 31.376-32.608 2.304-.048 4.608.16 6.864.608a42.555 42.555 0 016.08 1.76c1.936.8 3.76 1.808 5.44 3.04a27.78 27.78 0 014.8 3.84 32.028 32.028 0 019.44 23.36 31.935 31.935 0 01-9.44 22.56zm96 0a31.935 31.935 0 01-22.56 9.44c-2.08.24-4.16.24-6.24 0a42.555 42.555 0 01-6.08-1.76 35.515 35.515 0 01-5.44-3.04 29.053 29.053 0 01-4.96-4 32.006 32.006 0 01-9.28-23.2 27.13 27.13 0 010-6.24 42.555 42.555 0 011.76-6.08c.8-1.936 1.808-3.76 3.04-5.44a37.305 37.305 0 013.84-4.96 37.305 37.305 0 014.96-3.84 25.881 25.881 0 015.44-3.04 42.017 42.017 0 016.72-2.4c17.328-3.456 34.176 7.808 37.632 25.136.448 2.256.656 4.56.608 6.864 0 8.448-3.328 16.56-9.28 22.56h-.16zm96 0a22.555 22.555 0 01-4.8 4 35.515 35.515 0 01-5.44 3.04 42.555 42.555 0 01-6.08 1.76 28.204 28.204 0 01-6.24.64c-17.68 0-32-14.32-32-32-.336-17.664 13.712-32.272 31.376-32.608 2.304-.048 4.608.16 6.864.608a42.555 42.555 0 016.08 1.76c1.936.8 3.76 1.808 5.44 3.04a27.78 27.78 0 014.8 3.84 32.028 32.028 0 019.44 23.36 31.935 31.935 0 01-9.44 22.56z" />
                    </svg>
                </div>
                <a href="http://localhost:4200/home">
                    <h1>ConnectChat</h1>
                </a>
            </div>
            <div class="app-profile-box">
                <div class="rounded-circle user_img text_inside_circle">
                    {{check!.substring(0,1)}}
                </div>
                <div class="app-profile-box-name">
                    {{check}} <!--EL CHECK RETORNA EL NOMBRE DE LA PERSONA-->
                    <button class="app-setting">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" stroke="currentColor"
                            stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            class="feather feather-settings" viewBox="0 0 24 24">
                            <defs />
                            <circle cx="12" cy="12" r="3" />
                            <path
                                d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z" />
                        </svg>
                    </button>
                </div>
                <p class="app-profile-box-title">Profesión...</p>
                <div class="switch-status">
                    <input type="checkbox" name="switchStatus" id="switchStatus" checked>
                    <label class="label-toggle" for="switchStatus"></label>
                    <span class="toggle-text toggle-online">Online</span>
                    <span class="toggle-text toggle-offline">Offline</span>
                </div>
            </div>

            <div class="chat-list-wrapper">
                <div class="chat-list-header">Conversaciones activas <span class="c-number">4</span>
                    <svg class="list-header-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"
                        stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                        class="feather feather-chevron-up" viewBox="0 0 24 24">
                        <defs />
                        <path d="M18 15l-6-6-6 6" />
                    </svg>
                </div>
                <!-- ========================Right Body Up========================= -->
                <ul class="chat-list active" *ngFor="let chats of chatList">
                    <li class="chat-list-item">
                        <div class="d-flex bd-highlight"
                            (click)="loadChatByEmail(chats.secondUserName, chats.firstUserName)">
                            <div class="img_cont">
                                <div class="rounded-circle user_img text_inside_circle"
                                    *ngIf="chats.secondUserName!=senderCheck">
                                    {{chats.secondUserName.substring(0,1)}}
                                </div>
                                <div class="rounded-circle user_img text_inside_circle"
                                    *ngIf="chats.secondUserName==senderCheck">
                                    {{chats.firstUserName.substring(0,1)}}
                                </div>
                            </div>
                            <div *ngIf="chats.secondUserName!=senderCheck" style="margin-top: 1rem;">
                                <span class="chat-list-name">{{chats.secondUserName}}</span>
                            </div>
                            <div *ngIf="chats.secondUserName==senderCheck" style="margin-top: 1rem;">
                                <span class="chat-list-name">{{chats.firstUserName}}</span>
                            </div>
                            <br>
                        </div>
                    </li>
                </ul>
            </div>
            <!-- ========================Right Body Down========================= -->
            <div class="chat-list-wrapper">
                <div class="chat-list-header active">Todos los usuarios <span class="c-number">3</span>
                    <svg class="list-header-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"
                        stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                        class="feather feather-chevron-up" viewBox="0 0 24 24">
                        <defs />
                        <path d="M18 15l-6-6-6 6" />
                    </svg>
                </div>
                <ul class="contacts chatList" *ngFor="let presentation of alluser">
                    <li *ngIf="presentation.userName != check">
                        <div class="d-flex bd-highlight">
                            <div class="img_cont">
                                <div class="rounded-circle user_img text_inside_circle">
                                    {{presentation.userName.substring(0,1)}}
                                </div>
                            </div>
                            <div (click)="goToChat(presentation.userName)">
                                <!-- {{chats.secondUserName}}  -->
                                <div style="margin-top: 1rem;">
                                    <span class="chat-list-name">{{presentation.userName}}</span>
                                </div>
                                <br>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <div class="app-main">
            <!--CHAT DE VARIAS PERSONAS-->
            <div class="container-fluid">
                <div class="row justify-content-center h-100">
                    <!-- ============================= Middle Body ============================= -->
                    <div class="chat">
                        <div class="top_menu">
                            <div class="buttons">
                                <div class="button close"></div>
                                <div class="button minimize"></div>
                                <div class="button maximize"></div>
                            </div>
                            <div class="title">
                                <img src="../../../assets/hablar.png" width="25px" height="25px">
                                ConnectChat a un sólo paso de ti
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header msg_head">
                                <div class="d-flex bd-highlight">
                                    <div class="img_cont">
                                        <div class="rounded-circle user_img text_inside_circle1"
                                            *ngIf="secondUserName!=senderCheck">
                                            {{secondUserName.substring(0,1)}}
                                        </div>
                                        <div class="rounded-circle user_img text_inside_circle1"
                                            *ngIf="secondUserName==senderCheck">
                                            {{firstUserName?.substring(0,1)}}
                                        </div>
                                    </div>
                                    <div class="user_info">
                                        <span *ngIf="secondUserName!=senderCheck">{{secondUserName}}</span>
                                        <span *ngIf="secondUserName==senderCheck">{{firstUserName}}</span>
                                        <p>En linea</p>
                                    </div>
                                    <div class="video_cam">
                                    </div>
                                </div>
                            </div>
                            <div class="card-body msg_card_body" #scrollMe [scrollTop]="scrollMe.scrollHeight">
                                <div *ngFor="let msg of messageList">
                                    <div class="d-flex justify-content-end mb-4" *ngIf="msg.senderEmail==senderCheck">
                                        <div class="msg_cotainer_send">
                                            <!-- {{msg.replymessage | json}} -->
                                            {{msg.replymessage}}
                                            <span class="msg_time_send">{{msg.time.substring(11,16)}}</span>
                                        </div>
                                        <div class="img_cont_msg">
                                            <span
                                                class="rounded-circle user_img_msg text_inside_circle2">{{msg.senderEmail.substring(0,1)}}</span>
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-start mb-4" *ngIf="msg.senderEmail!=senderCheck">
                                        <div class="img_cont_msg">
                                            <span
                                                class="rounded-circle user_img_msg text_inside_circle3">{{msg.senderEmail.substring(0,1)}}</span>
                                        </div>
                                        <div class="msg_cotainer">
                                            {{msg.replymessage}}
                                            <span class="msg_time">{{msg.time.substring(11,16)}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer">
                                <form [formGroup]="chatForm">
                                    <div class="input-group">
                                        <div class="input-group-append">
                                            <span class="input-group-text attach_btn"></span>
                                        </div>
                                        <textarea name="" class="form-control type_msg"
                                            placeholder="Escribe tú mensaje aquí..." formControlName="replymessage"
                                            (keyup.enter)="sendMessage()"></textarea>
                                        <div class="input-group-append">
                                            <button mat-raised-button class="input-group-text send_btn"
                                                (click)="sendMessage()">
                                                <i class="fa fa-location-arrow"></i> </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
        <div class="app-right">
            <div class="app-profile-box">
                <div class="img_cont">
                    <div class="rounded-circle user_img text_inside_circle1"
                        *ngIf="secondUserName!=senderCheck">
                        {{secondUserName.substring(0,1)}}
                    </div>
                    <div class="rounded-circle user_img text_inside_circle1"
                        *ngIf="secondUserName==senderCheck">
                        {{firstUserName?.substring(0,1)}}
                    </div>
                </div>
                <p class="app-profile-box-title name"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                        viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" class="feather feather-user">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                        <circle cx="12" cy="7" r="4" />
                    </svg>
                    
                        <span *ngIf="secondUserName!=senderCheck">{{secondUserName}}</span>
                        <span *ngIf="secondUserName==senderCheck">{{firstUserName}}</span>
                    
                </p>
                <p class="app-profile-box-title mail"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                        viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" class="feather feather-mail">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
                        <polyline points="22,6 12,13 2,6" />
                    </svg>correoDejemplo@test.com</p>
                <button class="archive-btn">Archivar<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                        fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                        stroke-width="2" class="feather feather-archive" viewBox="0 0 24 24">
                        <defs />
                        <path d="M21 8v13H3V8M1 3h22v5H1zM10 12h4" />
                    </svg></button>
            </div>
            <div class="app-activity-box">
                <div class="activity-info-boxes">
                    <div class="activity-info-box time">
                        <div class="info-icon-wrapper">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                                stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                class="feather feather-clock" viewBox="0 0 24 24">
                                <defs />
                                <circle cx="12" cy="12" r="10" />
                                <path d="M12 6v6l4 2" />
                            </svg>
                        </div>
                        <div class="info-text-wrapper">
                            <span class="info-text-upper">13h</span>
                            <span class="info-text-bottom">Horas</span>
                        </div>
                    </div>
                    <div class="activity-info-box atendee">
                        <div class="info-icon-wrapper">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                                stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                class="feather feather-users" viewBox="0 0 24 24">
                                <defs />
                                <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2" />
                                <circle cx="9" cy="7" r="4" />
                                <path d="M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75" />
                            </svg>
                        </div>
                        <div class="info-text-wrapper">
                            <span class="info-text-upper">32</span>
                            <span class="info-text-bottom">Atendidos</span>
                        </div>
                    </div>
                    <div class="activity-info-box meeting">
                        <div class="info-icon-wrapper">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                                stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                class="feather feather-calendar" viewBox="0 0 24 24">
                                <defs />
                                <rect width="18" height="18" x="3" y="4" rx="2" ry="2" />
                                <path d="M16 2v4M8 2v4M3 10h18" />
                            </svg>
                        </div>
                        <div class="info-text-wrapper">
                            <span class="info-text-upper">122</span>
                            <span class="info-text-bottom">Reuniones</span>
                        </div>
                    </div>
                    <div class="activity-info-box reject">
                        <div class="info-icon-wrapper">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                                stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                class="feather feather-x-square" viewBox="0 0 24 24">
                                <defs />
                                <rect width="18" height="18" x="3" y="3" rx="2" ry="2" />
                                <path d="M9 9l6 6M15 9l-6 6" />
                            </svg>
                        </div>
                        <div class="info-text-wrapper">
                            <span class="info-text-upper">12</span>
                            <span class="info-text-bottom">Rechazadas</span>
                        </div>
                    </div>
                </div>
                <div class="activity-info-header">
                    <span class="info-header-bold">Esta semana</span>
                    <span class="info-header-light">Tú actividad</span>
                </div>
                <div class="activity-days-wrapper">
                    <div class="day">
                        <div class="chart"></div>
                        <span>LUN</span>
                    </div>
                    <div class="day">
                        <div class="chart"></div>
                        <span>MAR</span>
                    </div>
                    <div class="day current">
                        <div class="chart"></div>
                        <span>MIE</span>
                    </div>
                    <div class="day">
                        <div class="chart"></div>
                        <span>JUE</span>
                    </div>
                    <div class="day">
                        <div class="chart"></div>
                        <span>VIE</span>
                    </div>
                    <div class="day">
                        <div class="chart"></div>
                        <span>SAB</span>
                    </div>
                    <div class="day">
                        <div class="chart"></div>
                        <span>DOM</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>